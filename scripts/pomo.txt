#!/bin/sh timer () { local TIME=$1 local SECONDS_PER_MINUTE=60 local TOTAL_SECONDS=$((TIME display-setup.sh fuzzy.sh pomodoro.sh rofi_wrap.sh setup.sh toggle_pw.sh wallpaper_sw.sh SECONDS_PER_MINUTE)) for ((I = 1; I <= TOTAL_SECONDS; I++)); do sleep 1 TIME_LEFT=$((TOTAL_SECONDS - I)) echo "$2 : $I | $TIME_LEFT " > /tmp/pomo_status.txt done } if [ -f /tmp/pom_count.txt ]; then COUNT=$(cat /tmp/pom_count) else COUNT=0 fi if [ ! -f /tmp/pomo_status.txt ]; then echo "no timer" > /tmp/pomo_status.txt fi case $1 in 0) echo "0" > /tmp/pom_enable.txt echo "no timer" > /tmp/pomo_status.txt echo "timer stopped" ;; 1) echo "1" > /tmp/pom_enable.txt while [ "$(cat /tmp/pom_enable.txt)" == "1" ]; do timer 55 "Study" if [ $COUNT -eq 4 ]; then COUNT=0 timer 15 "Break" else timer 5 "Break" COUNT=$((COUNT + 1)) fi echo "$COUNT" > /tmp/pom_count.txt done ;; 2) echo $(cat /tmp/pomo_status.txt) ;; esac
